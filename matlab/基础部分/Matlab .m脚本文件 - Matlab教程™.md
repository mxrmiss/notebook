到目前为止，我们都是使用MATLAB环境作为计算器。然而，MATLAB也是一种强大的编程语言，也是一个交互式的计算环境。

在前几章中，已经学习了如何从MATLAB命令提示符输入命令。MATLAB还允许将一系列命令写入文件，并将文件作为完整单元执行，如：编写函数并调用它。

M文件
---

MATLAB允许编写两种程序文件 -

*   **脚本** - 脚本文件是以`.m`扩展名的程序文件。在这些文件中，可以编写一系列要一起执行的命令。脚本不接受输入，不返回任何输出。它们对工作空间中的数据进行操作。
    
*   **函数** - 函数文件也是扩展名为`.m`的程序文件。函数可以接受输入和返回输出。内部变量是函数的局部变量。
    

使用MATLAB编辑器或任何其他文本编辑器来创建`.m`文件。 在本节中，我们将讨论脚本文件。 脚本文件包含多个连续的MATLAB命令行和函数调用。可以通过在命令行中键入其名称来运行脚本。

创建和运行脚本文件
---------

要创建脚本文件，需要使用文本编辑器。可以通过两种方式打开MATLAB编辑器：

*   使用命令提示符
*   使用IDE

如果使用命令提示符，请在命令提示符下键入`edit`并回车，这将打开编辑器。可以直接键入`edit`，然后直接输入文件名(扩展名为`.m`)

```
edit 

edit newfile.m 
```

上述命令将在默认的MATLAB目录中创建该文件。如果要将所有程序文件存储在特定文件夹中，则必须提供整个路径。

![](https://mxrblog.cn/matlab/692140925_41638.png)

如果是第一次创建文件，MATLAB会提示确认，点击“是”后，如下 -

![](https://mxrblog.cn/matlab/174140927_26807.png)

在命令行中也可以创建文件夹，如：创建一个名为`progs`的文件夹。在命令提示符下键入以下命令(`>>`)：

```
mkdir progs    
chdir progs    
edit  prog1.m 
```

或者，如果使用IDE，请选择_“新建”_ ->_“脚本”_。 这也打开编辑器并创建一个名为_Untitled_的文件。在输入代码后命名并保存文件。

在编辑器中键入以下代码 -

```
NoOfStudents = 6000;
TeachingStaff = 150;
NonTeachingStaff = 20;
Total = NoOfStudents + TeachingStaff ... + NonTeachingStaff;
disp(Total); 
```

创建并保存文件后，可以通过两种方式运行：

*   单击编辑器窗口上的“运行”按钮
*   只需在命令提示符下键入文件名(无扩展名)即可：_\>> prog1_

命令窗口提示符显示结果 -

![](https://mxrblog.cn/matlab/251140937_23935.png)

**示例**

创建脚本文件(_sdemo.m_)，并键入以下代码 -

```
a = 5; b = 7;
c = a + b
d = c + sin(b)
e = 5 * d
f = exp(-d) 
```

当上述代码被编译和执行时，它产生以下结果 -

```
Trial>> sdemo

c =

    12

d =

   12.6570

e =

   63.2849

f =

   3.1852e-06

Trial>> 
```
