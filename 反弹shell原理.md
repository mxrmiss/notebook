---

---

# 反弹shell原理

[相关原文链接](https://www.cnblogs.com/iouwenbo/p/11277453.html)

## 反弹shell定义

<!--more-->

- 正向连接目的机器我将之称为正向shell，即远程控制，如远程桌面，ssh
- 所以可以理解反弹shell，即从目的机器连接我们的控制系统，从而我们可以控制目的机器
- 本质上反弹shell是建立一个服务器，使目的机器主称为客户端，主动连接服务器并将自己的shell给我们的控制系统

## 反弹应用情景

1. 某客户机中了你的网马，但是它在局域网内，你直接连接不了。
2. 目标机器的ip动态改变，你不能持续控制。
3. 由于防火墙等限制，对方机器只能发送请求，不能接收请求
4. 对于病毒，木马，受害者什么时候能中招，对方的网络环境是什么样的，什么时候开关机等情况都是未知的，所以建立一个服务端让恶意程序主动连接，才是上策。

## 利用netcat进行反弹shell思路

- 注：只是想法，本人还未进行实践，未知可行性

1. 在目标主机上建立服务器，如果有netcat直接使用，使用指令 -d 隐藏cmd命令行窗口，保持后台运行，使用指令 -L 使服务器一直保持开启状态，不受客户端断开而关闭，如果没有netcat可以使用Python编写一个服务器（前提是目标机器上有python程序）
2. 将建立好的服务器放置于目标机器的开机自启文件夹中
3. 在自己的机器上建立客户端，这样随时就可以访问了

